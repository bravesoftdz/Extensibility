<?xml version="1.0"?>
<root>
  <OBJECT NAME="FORNECEDORES">
    <METHOD NAME="Lista_FiltroPopUp" DESCRIPTION="" VERSION="26" THREADSAFE="1">
      <PARAMS>
        <GROUPS>
          <GROUP/>
          <GROUP NAME="Grupo de Loja"/>
        </GROUPS>
        <PARAM NAME="COD_FORNECEDOR" SIZE="10" FLAGS="1" PROJECTION="0" ORDER="1" FIELDLABEL="C&#243;digo" CTAB="0"/>
        <PARAM NAME="NOME" SIZE="60" FLAGS="1" PROJECTION="0" ORDER="3" FIELDLABEL="Nome" CTAB="0"/>
        <PARAM NAME="CONTATO" SIZE="60" FLAGS="1" PROJECTION="0" ORDER="5" FIELDLABEL="Contato" CTAB="0"/>
        <PARAM NAME="CGC" SIZE="18" FLAGS="1" MASK="##.###.###/####-##" PROJECTION="0" ORDER="6" FIELDLABEL="Cgc" CTAB="0"/>
        <PARAM NAME="RG" SIZE="12" FLAGS="1" PROJECTION="0" ORDER="4" FIELDLABEL="Rg" CTAB="0"/>
        <PARAM NAME="CPF" SIZE="14" FLAGS="1" MASK="###.###.###-##" PROJECTION="0" ORDER="8" FIELDLABEL="Cpf" CTAB="0"/>
        <PARAM NAME="TELEFONE" SIZE="15" FLAGS="1" PROJECTION="0" ORDER="11" FIELDLABEL="Telefone" CTAB="0"/>
        <PARAM NAME="CLIENTE" FORMAT="N" SIZE="8" PROJECTION="0" FIELDLABEL="Cliente" CTAB="0"/>
        <PARAM NAME="LOGRADOURO" SIZE="100" FLAGS="1" PROJECTION="0" ORDER="10" FIELDLABEL="Logradouro" CTAB="0"/>
        <PARAM NAME="ENDERECO" FORMAT="N" SIZE="8" DEFAULT="0" PROJECTION="0" ORDER="10" FIELDLABEL="Endereco" CTAB="0"/>
        <PARAM NAME="CNPJ" SIZE="19" FLAGS="1" MASK="###.###.###/####-##" PROJECTION="0" ORDER="7" FIELDLABEL="Cnpj" CTAB="0"/>
        <PARAM NAME="CIDADE" SIZE="60" FLAGS="1" PROJECTION="0" ORDER="9" FIELDLABEL="Cidade" CTAB="0"/>
        <PARAM NAME="BGRUPO_LOJA" FORMAT="B" SIZE="1" FLAGS="5" PROJECTION="0" ORDER="13" FIELDLABEL="Bgrupo Loja" GROUPNAME="Grupo de Loja" CTAB="0"/>
        <PARAM NAME="GRUPO_LOJA" FORMAT="N" SIZE="8" PROJECTION="0" ORDER="15" FIELDLABEL="Grupo Loja" GROUPNAME="Grupo de Loja" CTAB="0"/>
        <PARAM NAME="FANTASIA" SIZE="60" FLAGS="1" PROJECTION="0" ORDER="2" FIELDLABEL="Fantasia" CTAB="0"/>
        <PARAM NAME="FORNECEDOR" FORMAT="N" SIZE="8" PROJECTION="0" FIELDLABEL="Fornecedor" CTAB="0"/>
      </PARAMS>
      <FIELDS>
        <GROUPS>
          <GROUP/>
        </GROUPS>
        <FIELD NAME="NOME" SIZE="60" FLAGS="1" PROJECTION="0" ORDER="26" FIELDLABEL="Nome" CTAB="0"/>
        <FIELD NAME="COD_FORNECEDOR" SIZE="12" FLAGS="1" PROJECTION="0" ORDER="19" FIELDLABEL="Cod Fornecedor" CTAB="0"/>
        <FIELD NAME="CONTATO" SIZE="60" FLAGS="1" PROJECTION="0" ORDER="20" FIELDLABEL="Contato" CTAB="0"/>
        <FIELD NAME="FORNECEDOR" FORMAT="N" SIZE="8" PROJECTION="0" FIELDLABEL="Fornecedor" CTAB="0"/>
        <FIELD NAME="CPF" SIZE="14" FLAGS="1" PROJECTION="0" ORDER="21" FIELDLABEL="Cpf" CTAB="0"/>
        <FIELD NAME="CGC" SIZE="18" FLAGS="1" PROJECTION="0" ORDER="16" FIELDLABEL="Cgc" CTAB="0"/>
        <FIELD NAME="CNPJ" SIZE="19" FLAGS="1" PROJECTION="0" ORDER="18" FIELDLABEL="Cnpj" CTAB="0"/>
        <FIELD NAME="LOGRADOURO" SIZE="100" FLAGS="1" PROJECTION="0" ORDER="25" FIELDLABEL="Logradouro" CTAB="0"/>
        <FIELD NAME="CIDADE" SIZE="60" FLAGS="1" PROJECTION="0" ORDER="17" FIELDLABEL="Cidade" CTAB="0"/>
        <FIELD NAME="FANTASIA" SIZE="60" FLAGS="1" PROJECTION="0" ORDER="23" FIELDLABEL="Fantasia" CTAB="0"/>
        <FIELD NAME="UF" SIZE="2" FLAGS="1" PROJECTION="0" ORDER="28" FIELDLABEL="Uf" CTAB="0"/>
        <FIELD NAME="DDD" SIZE="4" FLAGS="1" PROJECTION="0" ORDER="22" FIELDLABEL="Ddd" CTAB="0"/>
        <FIELD NAME="FONE" SIZE="20" FLAGS="1" PROJECTION="0" ORDER="24" FIELDLABEL="Fone" CTAB="0"/>
        <FIELD NAME="RAMAL" SIZE="10" FLAGS="1" PROJECTION="0" ORDER="27" FIELDLABEL="Ramal" CTAB="0"/>
        <FIELD NAME="ENVIO_TITULO" FORMAT="B" SIZE="1" FLAGS="1" PROJECTION="0" ORDER="15" FIELDLABEL="Envio Titulo" CTAB="0"/>
      </FIELDS>
      <ACTIONSCRIPT>SELECT F.FORNECEDOR,
       F.COD_FORNECEDOR,
       F.NOME, 
       F.FANTASIA,  
       F.CONTATO,
       F.CPF, 
       F.CNPJ,
       F.CGC, 

       EC.LOGRADOURO,
       EC.CIDADE, 
       EC.ESTADO AS UF,
       EC.DDD, 
       EC.FONE, 
       EC.RAMAL,
       F.ENVIO_TITULO

FROM FORNECEDORES F 

LEFT JOIN ENDERECOS_CADASTRO EC 
     ON   EC.GERADOR  = F.GERADOR
     AND  EC.ENDERECO = :ENDERECO

WHERE

#SELECT(((CLIENTE=NULL) AND (FORNECEDOR=NULL)),
        TRUE:{[AND F.COD_FORNECEDOR=:COD_FORNECEDOR]
              #SELECT(NOME, NULL:{},
              ELSE:{AND F.NOME LIKE #REPLACETR(:NOME)})
                        
              #SELECT(FANTASIA, NULL:{},
              ELSE:{AND F.FANTASIA LIKE #REPLACETR(:FANTASIA)})

              [AND F.CONTATO    LIKE :CONTATO]
              [AND F.CGC        = :CGC]
              [AND F.RG         = :RG]
              [AND F.CPF        = :CPF]
              [AND F.FONE       = :TELEFONE]
              [AND F.LOGRADOURO LIKE :LOGRADOURO]
              [AND F.CNPJ       = :CNPJ]
              [AND F.CIDADE     LIKE :CIDADE]
              [and F.grupo_loja = :grupo_loja]},
              ELSE:{[AND F.CLIENTE=:CLIENTE]
                    [AND F.FORNECEDOR=:FORNECEDOR]})

ORDER BY 3
</ACTIONSCRIPT>
    </METHOD>
  </OBJECT>
</root>