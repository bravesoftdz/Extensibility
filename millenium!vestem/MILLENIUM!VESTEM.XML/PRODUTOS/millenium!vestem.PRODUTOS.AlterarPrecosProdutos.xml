<?xml version="1.0"?>
<root>
  <OBJECT NAME="PRODUTOS">
    <METHOD NAME="AlterarPrecosProdutos" DESCRIPTION="Alterar pre&#231;os para m&#250;ltiplos produtos" VERSION="179" THREADSAFE="0">
      <PARAMS>
        <GROUPS>
          <GROUP/>
          <GROUP NAME="Filtro de classifica&#231;&#245;es de produtos"/>
          <GROUP NAME="Lista de produtos para altera&#231;&#227;o" STYLE="2"/>
        </GROUPS>
        <PARAM NAME="PERC_DESCONTO" FORMAT="N" SIZE="17" FLAGS="49" DECIMALS="4" PROJECTION="0" ORDER="4" FIELDLABEL="%Desconto" CTAB="0"/>
        <PARAM NAME="MARCA" SIZE="1000" FLAGS="1" STYLE="6" PROJECTION="0" ORDER="10" LOOKUP="MILLENIUM.MARCAS.LISTAR" LOOKUPKEY="MARCA" LOOKUPDISPLAY="DESCRICAO" LOOKUPCODE="COD_MARCA" FIELDLABEL="Marcas" GROUPNAME="Filtro de classifica&#231;&#245;es de produtos" CTAB="0"/>
        <PARAM NAME="PRODUTO" SIZE="1000" FLAGS="1" STYLE="6" PROJECTION="0" ORDER="15" LOOKUP="MILLENIUM.PRODUTOS.Lista_Popup3" LOOKUPKEY="PRODUTOAC" LOOKUPDISPLAY="DESCRICAO" LOOKUPCODE="CODIGO" FIELDLABEL="Produtos" GROUPNAME="Filtro de classifica&#231;&#245;es de produtos" CTAB="0"/>
        <PARAM NAME="TABELA_VENDA" FORMAT="N" SIZE="8" FLAGS="17" PROJECTION="0" ORDER="1" LOOKUP="MILLENIUM.TABELAS_PRECO.Lista" LOOKUPKEY="TABELA" LOOKUPDISPLAY="DESCRICAO" LOOKUPCODE="COD_TPRECO" FIELDLABEL="Tabela Venda" CTAB="0"/>
        <PARAM NAME="PRECO_PRODUTO" FORMAT="R" FLAGS="1" STYLE="3" PROJECTION="0" ORDER="17" LOOKUP="PRODUTOS.ListaProdutosParaAlterarPrecos" FIELDLABEL="Produto" NESTEDNAME="millenium!vestem.PRODUTOS.PRECOS_PRODUTO" GROUPNAME="Lista de produtos para altera&#231;&#227;o" CTAB="0"/>
        <PARAM NAME="TIPO" SIZE="1000" FLAGS="1" STYLE="6" PROJECTION="0" ORDER="13" LOOKUP="MILLENIUM.TIPOS.LISTA_SIMPLES" LOOKUPKEY="TIPO" LOOKUPDISPLAY="DESCRICAO" LOOKUPCODE="COD_TIPO" FIELDLABEL="Tipos" GROUPNAME="Filtro de classifica&#231;&#245;es de produtos" CTAB="0"/>
        <PARAM NAME="DATA_VALIDADE_INICIAL" FORMAT="D" SIZE="10" FLAGS="17" PROJECTION="0" ORDER="2" FIELDLABEL="Validade Inicial" CTAB="0"/>
        <PARAM NAME="DATA_VALIDADE_FINAL" FORMAT="D" SIZE="10" FLAGS="17" PROJECTION="0" ORDER="3" FIELDLABEL="Validade Final" CTAB="0"/>
        <PARAM NAME="STATUS" SIZE="1000" FLAGS="1" STYLE="6" PROJECTION="0" ORDER="7" LOOKUP="MILLENIUM.STATUS_PRODUTO.LISTA" LOOKUPKEY="STATUS_PRODUTO" LOOKUPDISPLAY="DESCRICAO" FIELDLABEL="Status" GROUPNAME="Filtro de classifica&#231;&#245;es de produtos" CTAB="0"/>
        <PARAM NAME="COLECAO" SIZE="1000" FLAGS="1" STYLE="6" PROJECTION="0" ORDER="8" LOOKUP="MILLENIUM.COLECOES.Lista" LOOKUPKEY="COLECAO" LOOKUPDISPLAY="DESCRICAO" LOOKUPCODE="CODIGO" FIELDLABEL="Cole&#231;&#245;es" GROUPNAME="Filtro de classifica&#231;&#245;es de produtos" CTAB="0"/>
        <PARAM NAME="SUBCOLECAO" SIZE="1000" FLAGS="1" STYLE="6" PROJECTION="0" ORDER="9" LOOKUP="MILLENIUM.SUBCOLECOES.Listar" LOOKUPKEY="SUBCOLECAO" LOOKUPDISPLAY="DESCRICAO" LOOKUPCODE="COD_SUBCOLECAO" FIELDLABEL="Subcole&#231;&#245;es" GROUPNAME="Filtro de classifica&#231;&#245;es de produtos" CTAB="0"/>
        <PARAM NAME="DEPARTAMENTO" SIZE="1000" FLAGS="1" STYLE="6" PROJECTION="0" ORDER="14" LOOKUP="MILLENIUM.DEPARTAMENTOS.Lista" LOOKUPKEY="DEPARTAMENTO" LOOKUPDISPLAY="DESCRICAO" LOOKUPCODE="CODIGO" FIELDLABEL="Departamentos" GROUPNAME="Filtro de classifica&#231;&#245;es de produtos" CTAB="0"/>
        <PARAM NAME="DIVISAO" SIZE="1000" FLAGS="1" STYLE="6" PROJECTION="0" ORDER="11" LOOKUP="MILLENIUM.DIVISOES.Lista" LOOKUPKEY="DIVISAO" LOOKUPDISPLAY="DESCRICAO" LOOKUPCODE="COD_DIVISAO" FIELDLABEL="Divis&#245;es" GROUPNAME="Filtro de classifica&#231;&#245;es de produtos" CTAB="0"/>
        <PARAM NAME="CATEGORIA" SIZE="1000" FLAGS="1" STYLE="6" PROJECTION="0" ORDER="12" LOOKUP="MILLENIUM.CATEGORIASP.Listar" LOOKUPKEY="CATEGORIASP" LOOKUPDISPLAY="DESCRICAO" LOOKUPCODE="COD_CATEGORIA" FIELDLABEL="Categorias" GROUPNAME="Filtro de classifica&#231;&#245;es de produtos" CTAB="0"/>
        <PARAM NAME="B_CLASSIFICACAO" FORMAT="B" SIZE="1" FLAGS="5" PROJECTION="0" ORDER="6" FIELDLABEL="Classificacao" GROUPNAME="Filtro de classifica&#231;&#245;es de produtos" CTAB="0"/>
      </PARAMS>
      <FIELDS/>
      <ACTIONSCRIPT>#EACH() PRECO_PRODUTO AS R;
  #SELECT((R.SELECAO = TRUE), TRUE:{

                            //#CHECK('SELECT 1 AS N FROM DUAL', N>0, 'Sim');

                            #CALL MILLENIUM.PRECOS.ALTERA_PRECO_PRODUTO(
                                              PRODUTO=:R.PRODUTO,
                                              COR=:R.COR,
                                              ESTAMPA=:R.ESTAMPA,
                                              TAMANHO=:R.TAMANHO,
                                              TABELA=:R.TABELA_VENDA,
                                              PRECO=:R.PRECO_VENDA_PROJETADO,
                                              VALIDADE_INICIAL=:DATA_VALIDADE_INICIAL,
                                              VALIDADE_FINAL=:DATA_VALIDADE_FINAL
                                              )
                            },
   ELSE:{
        //#CHECK('SELECT 1 AS N FROM DUAL', N>0, 'Por favor remova os SKUs que n&#227;o ser&#227;o atualizados !!!');
       });


</ACTIONSCRIPT>
    </METHOD>
  </OBJECT>
</root>