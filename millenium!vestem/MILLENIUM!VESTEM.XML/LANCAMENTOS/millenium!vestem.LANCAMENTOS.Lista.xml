<?xml version="1.0"?>
<root>
  <OBJECT NAME="LANCAMENTOS">
    <METHOD NAME="Lista" DESCRIPTION="Listar Lan&#231;amentos no Per&#237;odo" VERSION="91" INTFTYPE="5" TRIGGEROF="LANCAMENTOS.Lista" TRIGGERTYPE="0" THREADSAFE="1">
      <PARAMS>
        <GROUPS>
          <GROUP NAME="Filtros espec&#237;ficos"/>
        </GROUPS>
        <PARAM NAME="OBS" SIZE="100" FLAGS="1" PROJECTION="0" HINT="Para localizar um lan&#231;amento por trechos da observa&#231;&#227;o, digite a informa&#231;&#227;o &#224; ser pesquisada colocando o texto entre %%.&lt;BR>&lt;BR> &#xA; &#xA;Exemplo: &lt;B>%TESTE%&lt;B>" ORDER="1" FIELDLABEL="Observa&#231;&#227;o do lan&#231;amento" GROUPNAME="Filtros espec&#237;ficos" CTAB="0"/>
      </PARAMS>
      <FIELDS>
        <GROUPS>
          <GROUP/>
        </GROUPS>
        <FIELD NAME="LANCAMENTO" FORMAT="+" SIZE="8" FLAGS="1032" PROJECTION="0" FIELDLABEL="Lancamento" CTAB="0"/>
        <FIELD NAME="CONTA" FORMAT="N" SIZE="8" FLAGS="8" PROJECTION="0" ORDER="13" FIELDLABEL="Conta" CTAB="0"/>
        <FIELD NAME="PCONTA" FORMAT="N" SIZE="8" FLAGS="8" PROJECTION="0" ORDER="22" FIELDLABEL="Pconta" CTAB="0"/>
        <FIELD NAME="DATA_EMISSAO" FORMAT="H" SIZE="18" FLAGS="3" PROJECTION="0" ORDER="7" FIELDLABEL="Data Emiss&#227;o" CTAB="0"/>
        <FIELD NAME="VALOR_INICIAL" FORMAT="M" SIZE="17" FLAGS="11" DECIMALS="4" PROJECTION="0" ORDER="8" FIELDLABEL="Valor" CTAB="0"/>
        <FIELD NAME="VALOR_PAGO" FORMAT="M" SIZE="17" FLAGS="8" DECIMALS="4" PROJECTION="0" ORDER="8" FIELDLABEL="Valor Pago" CTAB="0"/>
        <FIELD NAME="TIPO_PGTO" FORMAT="N" SIZE="8" FLAGS="8" PROJECTION="0" ORDER="13" FIELDLABEL="Tipo Pgto" CTAB="0"/>
        <FIELD NAME="N_DOCUMENTO" SIZE="20" FLAGS="1" PROJECTION="0" ORDER="5" FIELDLABEL="N&#250;mero" CTAB="0"/>
        <FIELD NAME="FILIAL" FORMAT="N" SIZE="8" FLAGS="8" PROJECTION="0" ORDER="20" FIELDLABEL="Filial" CTAB="0"/>
        <FIELD NAME="EFETUADO" FORMAT="B" SIZE="1" PROJECTION="0" ORDER="9" FIELDLABEL="Efetuado" CTAB="0"/>
        <FIELD NAME="COD" FORMAT="N" SIZE="8" FLAGS="8" PROJECTION="0" FIELDLABEL="Cod" CTAB="0"/>
        <FIELD NAME="GERADOR" SIZE="255" FLAGS="1" PROJECTION="0" ORDER="9" FIELDLABEL="Relacionado a" CTAB="0"/>
        <FIELD NAME="ORIGEM" FORMAT="N" SIZE="8" FLAGS="8" PROJECTION="0" FIELDLABEL="Origem" CTAB="0"/>
        <FIELD NAME="TIPO_ORIGEM" SIZE="1" PROJECTION="0" FIELDLABEL="Tipo Origem" CTAB="0"/>
        <FIELD NAME="BANCO" FORMAT="N" SIZE="8" FLAGS="8" PROJECTION="0" ORDER="14" FIELDLABEL="Banco" CTAB="0"/>
        <FIELD NAME="AGENCIA" SIZE="7" PROJECTION="0" ORDER="15" FIELDLABEL="Agencia" CTAB="0"/>
        <FIELD NAME="C_C" SIZE="30" PROJECTION="0" ORDER="16" FIELDLABEL="C C" CTAB="0"/>
        <FIELD NAME="N_CHEQUE" SIZE="20" PROJECTION="0" ORDER="18" FIELDLABEL="N Cheque" CTAB="0"/>
        <FIELD NAME="DATA_CHEQUE" FORMAT="D" SIZE="14" PROJECTION="0" ORDER="17" FIELDLABEL="Data Cheque" CTAB="0"/>
        <FIELD NAME="OBS" SIZE="255" FLAGS="1" PROJECTION="0" ORDER="10" FIELDLABEL="Observa&#231;&#227;o" CTAB="0"/>
        <FIELD NAME="TIPO_COBRANCA" SIZE="1" PROJECTION="0" ORDER="12" FIELDLABEL="Tipo Cobranca" CTAB="0"/>
        <FIELD NAME="COD_OBRIG_FIXA" FORMAT="N" SIZE="8" FLAGS="8" PROJECTION="0" FIELDLABEL="Cod Obrig Fixa" CTAB="0"/>
        <FIELD NAME="DOC_ORIGEM" SIZE="20" PROJECTION="0" ORDER="19" FIELDLABEL="Doc Origem" CTAB="0"/>
        <FIELD NAME="CARTEIRA" SIZE="2" PROJECTION="0" ORDER="15" FIELDLABEL="Carteira" CTAB="0"/>
        <FIELD NAME="DATA_COMPENSACAO" FORMAT="D" SIZE="14" PROJECTION="0" ORDER="6" FIELDLABEL="Data Compensacao" CTAB="0"/>
        <FIELD NAME="TIPO" SIZE="1" PROJECTION="0" ORDER="7" FIELDLABEL="Tipo" CTAB="0"/>
        <FIELD NAME="PREVISAO" FORMAT="B" SIZE="1" PROJECTION="0" ORDER="8" FIELDLABEL="Previs&#227;o" CTAB="0"/>
        <FIELD NAME="MOEDA" FORMAT="N" SIZE="8" FLAGS="8" PROJECTION="0" ORDER="21" FIELDLABEL="Moeda" CTAB="0"/>
        <FIELD NAME="DESC_CAIXA" SIZE="50" FLAGS="1" PROJECTION="0" ORDER="4" FIELDLABEL="Caixa" CTAB="0"/>
        <FIELD NAME="DESC_GERADOR" SIZE="60" FLAGS="2" PROJECTION="0" FIELDLABEL="Desc Gerador" CTAB="0"/>
        <FIELD NAME="DATA_VENCIMENTO" FORMAT="D" SIZE="10" FLAGS="2" PROJECTION="0" FIELDLABEL="Data Vencimento" CTAB="0"/>
        <FIELD NAME="CONCILIADO" FORMAT="B" SIZE="1" FLAGS="1" PROJECTION="0" ORDER="6" FIELDLABEL="Conciliado" CTAB="0"/>
        <FIELD NAME="NOME_FILIAL" SIZE="50" FLAGS="1" PROJECTION="0" ORDER="3" FIELDLABEL="Empresa" CTAB="0"/>
        <FIELD NAME="DESC_TIPO_PGTO" SIZE="30" PROJECTION="0" FIELDLABEL="Desc Tipo Pgto" CTAB="0"/>
        <FIELD NAME="VALOR_MOEDA" FORMAT="M" SIZE="17" DECIMALS="4" PROJECTION="0" FIELDLABEL="Valor Moeda" CTAB="0"/>
        <FIELD NAME="COTACAO" FORMAT="N" SIZE="15" DECIMALS="7" PROJECTION="0" FIELDLABEL="Cotacao" CTAB="0"/>
        <FIELD NAME="MULTA" FORMAT="N" SIZE="15" DECIMALS="7" PROJECTION="0" FIELDLABEL="Multa" CTAB="0"/>
        <FIELD NAME="MORA" FORMAT="N" SIZE="15" DECIMALS="7" PROJECTION="0" FIELDLABEL="Mora" CTAB="0"/>
        <FIELD NAME="TIPO_GERADOR" SIZE="1" PROJECTION="0" FIELDLABEL="Tipo Gerador" CTAB="0"/>
        <FIELD NAME="NOME_BANCO" SIZE="30" PROJECTION="0" FIELDLABEL="Nome Banco" CTAB="0"/>
      </FIELDS>
      <ACTIONSCRIPT>#SELECT(OBS,
NULL:{
SELECT * FROM #REPLACE(PARENT_RESULT);
      },
ELSE:{
SELECT  LANCAMENTOS.LANCAMENTO,
        CONTAS.CONTA,
        CONTAS.DESCRICAO AS DESC_CAIXA,
        LANCAMENTOS.PCONTA,
        LANCAMENTOS.DATA_EMISSAO,
        LANCAMENTOS.VALOR_INICIAL,
        LANCAMENTOS.VALOR_PAGO,
        LANCAMENTOS.TIPO_PGTO,
        LANCAMENTOS.N_DOCUMENTO,
        LANCAMENTOS.FILIAL,
        LANCAMENTOS.EFETUADO,
        LANCAMENTOS.COD,
        LANCAMENTOS.GERADOR AS TIPO_GERADOR,
        LANCAMENTOS.DESC_GERADOR AS GERADOR,
        LANCAMENTOS.VALOR_MOEDA,
        BANCOS.NOME AS NOME_BANCO,
        VL.VALOR AS COTACAO,
        LANCAMENTOS.MULTA,
        LANCAMENTOS.MORA,
        LANCAMENTOS.ORIGEM,
        LANCAMENTOS.TIPO_ORIGEM,
        LANCAMENTOS.BANCO,
        LANCAMENTOS.AGENCIA,
        LANCAMENTOS.C_C,
        LANCAMENTOS.N_CHEQUE,
        LANCAMENTOS.DATA_CHEQUE,
        LANCAMENTOS.OBS,
        LANCAMENTOS.TIPO_COBRANCA,
        LANCAMENTOS.COD_OBRIG_FIXA,
        LANCAMENTOS.DOC_ORIGEM,
        LANCAMENTOS.CARTEIRA,
        LANCAMENTOS.DATA_COMPENSACAO,
        LANCAMENTOS.TIPO,
        LANCAMENTOS.PREVISAO,
        LANCAMENTOS.MOEDA,
        LANCAMENTOS.TITULO ,
        LANCAMENTOS.DESC_GERADOR,
        LANCAMENTOS.DATA_VENCIMENTO,
        LANCAMENTOS.CONCILIADO,
        FILIAIS.COD_FILIAL||'-'||#null_to_s(FILIAIS.FANTASIA,FILIAIS.NOME) as NOME_FILIAL
FROM LANCAMENTOS L

LEFT JOIN FILIAIS
     ON   FILIAIS.FILIAL=LANCAMENTOS.FILIAL

LEFT JOIN CONTAS
     ON   CONTAS.CONTA=LANCAMENTOS.CONTA

LEFT JOIN BANCOS
     ON   BANCOS.BANCO=LANCAMENTOS.BANCO

LEFT JOIN VALORES_MOEDAS VL
     ON   VL.MOEDA=LANCAMENTOS.MOEDA
     AND  VL.DATA=#DATE()
WHERE L.OBS LIKE #REPLACETR(OBS)
})


</ACTIONSCRIPT>
    </METHOD>
  </OBJECT>
</root>