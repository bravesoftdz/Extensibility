<?xml version="1.0"?>
<root>
  <OBJECT NAME="DESENVOLVIMENTO_DE_PRODUTO">
    <METHOD NAME="Lista" DESCRIPTION="Casos" VERSION="27" INTFTYPE="5" TRIGGEROF="XRM.CHAMADOS.Lista" TRIGGERTYPE="1" THREADSAFE="1">
      <PARAMS>
        <GROUPS>
          <GROUP NAME="Classifica&#231;&#227;o Produto"/>
          <GROUP/>
        </GROUPS>
        <PARAM NAME="VOID" FORMAT="N" PROJECTION="0" FIELDLABEL="Void" CTAB="0"/>
        <PARAM NAME="TIPOS" SIZE="255" FLAGS="1" STYLE="6" PROJECTION="0" ORDER="6" LOOKUP="MILLENIUM.TIPOS.LISTA" LOOKUPKEY="TIPO" LOOKUPDISPLAY="DESCRICAO" LOOKUPCODE="CODIGO" FIELDLABEL="Tipos" GROUPNAME="Classifica&#231;&#227;o Produto" CTAB="0"/>
        <PARAM NAME="DIVISOES" SIZE="255" FLAGS="1" STYLE="6" PROJECTION="0" ORDER="2" LOOKUP="MILLENIUM.DIVISOES.LISTA" LOOKUPKEY="DIVISAO" LOOKUPDISPLAY="DESCRICAO" LOOKUPCODE="COD_DIVISAO" FIELDLABEL="Divisoes" GROUPNAME="Classifica&#231;&#227;o Produto" CTAB="0"/>
        <PARAM NAME="COLECOES" SIZE="255" FLAGS="1" STYLE="6" PROJECTION="0" ORDER="5" LOOKUP="MILLENIUM.COLECOES.LISTA" LOOKUPKEY="COLECAO" LOOKUPDISPLAY="DESCRICAO" LOOKUPCODE="CODIGO" FIELDLABEL="Colecoes" GROUPNAME="Classifica&#231;&#227;o Produto" CTAB="0"/>
        <PARAM NAME="GRUPOS" SIZE="255" FLAGS="1" STYLE="6" PROJECTION="0" ORDER="3" LOOKUP="MILLENIUM.GRUPOS.LISTA" LOOKUPKEY="GRUPO" LOOKUPDISPLAY="DESCRICAO" LOOKUPCODE="CODIGO" FIELDLABEL="Grupos" GROUPNAME="Classifica&#231;&#227;o Produto" CTAB="0"/>
        <PARAM NAME="DEPARTAMENTOS" SIZE="255" FLAGS="1" STYLE="6" PROJECTION="0" ORDER="4" LOOKUP="MILLENIUM.DEPARTAMENTOS.LISTA" LOOKUPKEY="DEPARTAMENTO" LOOKUPDISPLAY="DESCRICAO" LOOKUPCODE="CODIGO" FIELDLABEL="Departamentos" GROUPNAME="Classifica&#231;&#227;o Produto" CTAB="0"/>
        <PARAM NAME="PRODUTO_CHAMADO" FORMAT="N" SIZE="8" FLAGS="1" STYLE="5" PROJECTION="0" ORDER="1" LOOKUP="millenium.produtosac.lista" LOOKUPKEY="PRODUTOAC" LOOKUPDISPLAY="DESCRICAO1" LOOKUPCODE="COD_PRODUTO" FIELDLABEL="Produto Chamado" GROUPNAME="Classifica&#231;&#227;o Produto" CTAB="0"/>
      </PARAMS>
      <FIELDS>
        <GROUPS>
          <GROUP/>
        </GROUPS>
        <FIELD NAME="COD_PRODUTO" SIZE="20" FLAGS="1" PROJECTION="0" ORDER="13" FIELDLABEL="Produto" CTAB="0"/>
        <FIELD NAME="DESCRICAO1" SIZE="40" FLAGS="1" PROJECTION="0" ORDER="14" FIELDLABEL="Descri&#231;&#227;o" CTAB="0"/>
        <FIELD NAME="COLECAO" SIZE="30" FLAGS="1" PROJECTION="0" ORDER="9" FIELDLABEL="Colecao" CTAB="0"/>
        <FIELD NAME="DIVISAO" SIZE="30" FLAGS="1" PROJECTION="0" ORDER="10" FIELDLABEL="Divisao" CTAB="0"/>
        <FIELD NAME="TIPO_PRODUTO" SIZE="30" FLAGS="1" PROJECTION="0" ORDER="11" FIELDLABEL="Tipo" CTAB="0"/>
        <FIELD NAME="GRUPO" SIZE="30" FLAGS="1" PROJECTION="0" ORDER="12" FIELDLABEL="Grupo" CTAB="0"/>
        <FIELD NAME="DEPARTAMENTO" SIZE="30" FLAGS="1" PROJECTION="0" ORDER="8" FIELDLABEL="Departamento" CTAB="0"/>
      </FIELDS>
      <ACTIONSCRIPT>SELECT
            TMP.*,
            P.COD_PRODUTO,
            P.DESCRICAO1,
            CL.COD_COLECAO||' - '||CL.DESCRICAO AS COLECAO,
            TP.COD_TIPO||' - '||TP.DESCRICAO AS TIPO_PRODUTO,
            DP.COD_DEPARTAMENTO||' - '||DP.DESCRICAO AS DEPARTAMENTO,
            GP.COD_GRUPO||' - '||GP.DESCRICAO AS GRUPO,
            DV.COD_DIVISAO||' - '||DV.DESCRICAO AS DIVISAO
            
            
            
FROM #REPLACE(PARENT_RESULT) TMP


INNER JOIN USR_DESENVOLVIMENTO_DE_PRODUTO TBL ON (TBL.CHAMADO=TMP.CHAMADO)
INNER JOIN PRODUTOS P ON P.PRODUTO=TBL.PRODUTO
LEFT JOIN TIPOS TP ON TP.TIPO=P.TIPO
LEFT JOIN COLECOES CL ON CL.COLECAO = P.COLECAO
LEFT JOIN DEPARTAMENTOS DP ON DP.DEPARTAMENTO=P.DEPARTAMENTO
LEFT JOIN GRUPOS GP ON GP.GRUPO=P.GRUPO
LEFT JOIN DIVISOES DV ON DIVISAO = P.DIVISAO

WHERE
[CL.COLECAO IN #REPLACE(:COLECOES)]
[AND DP.DEPARTAMENTO IN #REPLACE(:DEPARTAMENTOS)]
[AND GP.GRUPO IN #REPLACE(:GRUPOS)]
[AND TP.TIPO IN #REPLACE(:TIPOS)]
[AND DV.DIVISAO IN #REPLACE(:DIVISOES)]
[AND P.PRODUTO=:PRODUTO_CHAMADO]


</ACTIONSCRIPT>
    </METHOD>
  </OBJECT>
</root>