<?xml version="1.0"?>
<root>
  <OBJECT NAME="CLIENTES">
    <METHOD NAME="Lista_FiltroPopup" DESCRIPTION="Lista usada p/ filtros de lookup" VERSION="115" THREADSAFE="1">
      <PARAMS>
        <GROUPS>
          <GROUP/>
          <GROUP NAME="Grupo de Loja"/>
        </GROUPS>
        <PARAM NAME="COD_CLIENTE" SIZE="20" FLAGS="1" PROJECTION="0" ORDER="1" FIELDLABEL="Codigo" CTAB="0"/>
        <PARAM NAME="NOME" SIZE="60" FLAGS="1" PROJECTION="0" ORDER="3" FIELDLABEL="Nome" CTAB="0"/>
        <PARAM NAME="CONTATO" SIZE="60" FLAGS="1" PROJECTION="0" ORDER="4" FIELDLABEL="Contato" CTAB="0"/>
        <PARAM NAME="CGC" SIZE="18" FLAGS="1" MASK="##.###.###/####-##" PROJECTION="0" ORDER="5" FIELDLABEL="Cgc" CTAB="0"/>
        <PARAM NAME="RG" SIZE="12" FLAGS="1" PROJECTION="0" ORDER="8" FIELDLABEL="Rg" CTAB="0"/>
        <PARAM NAME="CPF" SIZE="14" FLAGS="1" MASK="###.###.###-##" PROJECTION="0" ORDER="7" FIELDLABEL="Cpf" CTAB="0"/>
        <PARAM NAME="TELEFONE" SIZE="15" FLAGS="1" PROJECTION="0" ORDER="9" FIELDLABEL="Telefone" CTAB="0"/>
        <PARAM NAME="CLIENTE" FORMAT="N" SIZE="8" PROJECTION="0" FIELDLABEL="Cliente" CTAB="0"/>
        <PARAM NAME="LOGRADOURO" SIZE="120" FLAGS="1" PROJECTION="0" ORDER="12" FIELDLABEL="Endere&#231;o" CTAB="0"/>
        <PARAM NAME="ENDERECO" FORMAT="N" SIZE="8" FLAGS="1" DEFAULT="0" PROJECTION="0" ORDER="10" LOOKUP="ENDERECOS.LISTA" LOOKUPKEY="ENDERECO" LOOKUPDISPLAY="DESCRICAO" LOOKUPCODE="CODIGO" FIELDLABEL="Tipo de Endere&#231;o" CTAB="0"/>
        <PARAM NAME="CNPJ" SIZE="19" FLAGS="1" MASK="###.###.###/####-##" PROJECTION="0" ORDER="6" FIELDLABEL="Cnpj" CTAB="0"/>
        <PARAM NAME="CIDADE" SIZE="20" FLAGS="1" PROJECTION="0" ORDER="11" FIELDLABEL="Cidade" CTAB="0"/>
        <PARAM NAME="BGRUPO_LOJA" FORMAT="B" SIZE="1" FLAGS="5" PROJECTION="0" ORDER="15" FIELDLABEL="Bgrupo Loja" GROUPNAME="Grupo de Loja" CTAB="0"/>
        <PARAM NAME="GRUPO_LOJA" FORMAT="N" SIZE="8" FLAGS="1" PROJECTION="0" ORDER="16" LOOKUP="grupo_lojas.Lista" LOOKUPKEY="GRUPO_LOJA" LOOKUPDISPLAY="NOME" LOOKUPCODE="COD_GRUPO" FIELDLABEL="Grupo Loja" GROUPNAME="Grupo de Loja" CTAB="0"/>
        <PARAM NAME="FANTASIA" SIZE="60" FLAGS="1" PROJECTION="0" ORDER="2" FIELDLABEL="Fantasia" CTAB="0"/>
        <PARAM NAME="E_MAIL" SIZE="40" FLAGS="1" PROJECTION="0" ORDER="13" FIELDLABEL="E-Mail" CTAB="0"/>
      </PARAMS>
      <FIELDS>
        <GROUPS>
          <GROUP/>
        </GROUPS>
        <FIELD NAME="NOME" SIZE="60" FLAGS="1" PROJECTION="0" ORDER="20" FIELDLABEL="Nome" CTAB="0"/>
        <FIELD NAME="COD_CLIENTE" SIZE="20" FLAGS="1" PROJECTION="0" ORDER="18" FIELDLABEL="Codigo" CTAB="0"/>
        <FIELD NAME="CONTATO" SIZE="60" FLAGS="1" PROJECTION="0" ORDER="30" FIELDLABEL="Contato" CTAB="0"/>
        <FIELD NAME="CLIENTE" FORMAT="N" SIZE="8" PROJECTION="0" FIELDLABEL="Cliente" CTAB="0"/>
        <FIELD NAME="CPF" SIZE="14" FLAGS="1" PROJECTION="0" ORDER="23" FIELDLABEL="Cpf" CTAB="0"/>
        <FIELD NAME="CGC" SIZE="18" FLAGS="1" PROJECTION="0" ORDER="21" FIELDLABEL="Cgc" CTAB="0"/>
        <FIELD NAME="CNPJ" SIZE="19" FLAGS="1" PROJECTION="0" ORDER="22" FIELDLABEL="Cnpj" CTAB="0"/>
        <FIELD NAME="LOGRADOURO" SIZE="120" FLAGS="1" PROJECTION="0" ORDER="24" FIELDLABEL="Endere&#231;o" CTAB="0"/>
        <FIELD NAME="CIDADE" SIZE="20" FLAGS="1" PROJECTION="0" ORDER="25" FIELDLABEL="Cidade" CTAB="0"/>
        <FIELD NAME="FANTASIA" SIZE="60" FLAGS="1" PROJECTION="0" ORDER="19" FIELDLABEL="Fantasia" CTAB="0"/>
        <FIELD NAME="UF" SIZE="2" FLAGS="1" PROJECTION="0" ORDER="26" FIELDLABEL="Estado" CTAB="0"/>
        <FIELD NAME="DDD" SIZE="4" FLAGS="1" PROJECTION="0" ORDER="27" FIELDLABEL="Ddd" CTAB="0"/>
        <FIELD NAME="FONE" SIZE="20" FLAGS="1" PROJECTION="0" ORDER="28" FIELDLABEL="Fone" CTAB="0"/>
        <FIELD NAME="RAMAL" SIZE="10" FLAGS="1" PROJECTION="0" ORDER="29" FIELDLABEL="Ramal" CTAB="0"/>
        <FIELD NAME="GERADOR" FORMAT="N" SIZE="8" PROJECTION="0" FIELDLABEL="Gerador" CTAB="0"/>
      </FIELDS>
      <ACTIONSCRIPT>SELECT C.GERADOR, C.CLIENTE,
       C.COD_CLIENTE,
       C.NOME, C.FANTASIA,  
       C.CONTATO,
       C.CPF, C.CNPJ,
       C.CGC, E.LOGRADOURO,
       E.CIDADE, E.ESTADO AS UF,
       E.DDD, E.FONE, E.RAMAL 

FROM CLIENTES C 
left join ENDERECOS_CADASTRO E
     on  E.GERADOR=C.GERADOR
     AND  E.ENDERECO=:ENDERECO

WHERE

#SELECT(CLIENTE, NULL:{
[C.COD_CLIENTE=:COD_CLIENTE]
#SELECT(NOME, NULL:{},
              ELSE:{AND C.NOME LIKE #REPLACETR(:NOME)})
#SELECT(FANTASIA, NULL:{},
              ELSE:{AND C.FANTASIA LIKE #REPLACETR(:FANTASIA)})
[AND C.CONTATO LIKE :CONTATO]  
[AND C.CGC=:CGC]   
[AND C.RG=:RG]  
[AND C.CPF=:CPF] 
[AND E.FONE=:TELEFONE]
[AND E.LOGRADOURO LIKE :LOGRADOURO]
[AND C.CNPJ=:CNPJ]
[AND E.CIDADE LIKE :CIDADE]
[and C.grupo_loja = :grupo_loja]
[and c.e_mail LIKE #replacet(e_mail)]},
ELSE:{C.CLIENTE=:CLIENTE})

ORDER BY C.NOME
</ACTIONSCRIPT>
    </METHOD>
  </OBJECT>
</root>