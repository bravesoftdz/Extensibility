<?xml version="1.0"?>
<root>
  <OBJECT NAME="EVENTOS">
    <METHOD NAME="Lista" DESCRIPTION="" VERSION="15" INTFTYPE="8" TRIGGEROF="EVENTOS.Lista" TRIGGERTYPE="0" THREADSAFE="1">
      <PARAMS/>
      <FIELDS>
        <GROUPS>
          <GROUP/>
          <GROUP NAME="Dados Adicionais"/>
        </GROUPS>
        <FIELD NAME="EXPLICACAO" FLAGS="1" PROJECTION="0" ORDER="6" FIELDLABEL="Explica&#231;&#227;o" GROUPNAME="Dados Adicionais" CTAB="0"/>
        <FIELD NAME="TIPO_EVENTO" SIZE="30" FLAGS="1" PROJECTION="0" ORDER="1" FIELDLABEL="Tipo de Evento" CTAB="0"/>
        <FIELD NAME="REFLEXO_ESTOQUE" SIZE="30" FLAGS="1" PROJECTION="0" ORDER="3" FIELDLABEL="Reflexo Estoque" CTAB="0"/>
        <FIELD NAME="REFLEXO_FINANCEIRO" SIZE="30" FLAGS="1" PROJECTION="0" ORDER="4" FIELDLABEL="Reflexo Financeiro" CTAB="0"/>
        <FIELD NAME="TIPO" SIZE="30" FLAGS="1" PROJECTION="0" ORDER="2" FIELDLABEL="Tipo" CTAB="0"/>
      </FIELDS>
      <ACTIONSCRIPT>SELECT
  C.*,
  E.EXPLICACAO AS EXPLICACAO,
  CASE
    WHEN E.TIPO_EVENTO = 'S'   THEN 'SAIDA'
    ||' - '||
    CASE
      WHEN E.TIPO_SAIDA = 'S'   THEN 'SIMPLES'
      WHEN E.TIPO_SAIDA = 'D'   THEN 'DEVOLUCAO DE COMPRA'
      WHEN E.TIPO_SAIDA = 'V'   THEN 'VENDA'
      WHEN E.TIPO_SAIDA = 'T'   THEN 'TRANSFORMA&#199;&#195;O'
      WHEN E.TIPO_SAIDA = 'G'   THEN 'CONSIGNA&#199;&#195;O'
    END
  WHEN E.TIPO_EVENTO = 'E'   THEN 'ENTRADA'
    ||' - '||
    CASE
      WHEN E.TIPO_ENTRADA = 'S'   THEN 'SIMPLES'
      WHEN E.TIPO_ENTRADA = 'D'   THEN 'DEVOLUCAO'
      WHEN E.TIPO_ENTRADA = 'C'   THEN 'COMPRA'
      WHEN E.TIPO_ENTRADA = 'V'   THEN 'DEVOLUCAO DE VENDA'
      WHEN E.TIPO_ENTRADA = 'F'   THEN 'TRANSFORMA&#199;&#195;O'
      WHEN E.TIPO_SAIDA = 'G'     THEN 'CONSIGNA&#199;&#195;O'
    END
  WHEN E.TIPO_EVENTO = 'T'   THEN 'SAIDA'
    ||' - '||
    CASE
      WHEN E.TIPO_TRANSFERENCIA = 'T'   THEN 'TRANSFERENCIA'
      WHEN E.TIPO_TRANSFERENCIA = 'T'   THEN 'DEVOLU&#199;&#195;O DE TRANSFERENCIA'
    END
  END  AS TIPO_EVENTO,

  CASE
    WHEN E.INFLUENCIA_ESTOQUE = '+'   THEN 'SOMA'
    WHEN E.INFLUENCIA_ESTOQUE = '-'   THEN 'SUBTRAI'
    WHEN E.INFLUENCIA_ESTOQUE = '/'   THEN 'N&#195;O INFLUI'
    WHEN E.INFLUENCIA_ESTOQUE = '*'   THEN 'NUNCA INFLUI'
  END  AS REFLEXO_ESTOQUE,

  CASE
    WHEN E.INFLUENCIA_CAIXA = '+'   THEN 'SOMA'
    WHEN E.INFLUENCIA_CAIXA = '-'   THEN 'SUBTRAI'
    WHEN E.INFLUENCIA_CAIXA = '/'   THEN 'N&#195;O INFLUI'
    WHEN E.INFLUENCIA_CAIXA = '*'   THEN 'NUNCA INFLUI'
  END  AS REFLEXO_FINANCEIRO,

  CASE
    WHEN E.TIPO = 'AC'   THEN 'PRODUTO ACABADO'
    WHEN E.TIPO = 'MC'   THEN 'MATERIAL DE CONSUMO'
    WHEN E.TIPO = 'SE'   THEN 'SERVICO'
    WHEN E.TIPO = 'MP'   THEN 'MATERIA PRIMA'
    WHEN E.TIPO = 'TO'   THEN 'MULTIPLOS'
  END  AS TIPO
FROM #REPLACE(PARENT_RESULT) C
INNER JOIN EVENTOS E ON (E.EVENTO = C.EVENTO)
ORDER BY E.CODIGO;
</ACTIONSCRIPT>
    </METHOD>
  </OBJECT>
</root>